<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>colinholzman.xyz | Colin Holzman</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="colinholzman.xyz" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I’ve wanted to learn what it takes to run a website. Finally I’ve put together colinholzman.xyz. This is based on knowledge found all over the internet and through trial and error. It’s fitting to write down some instructions on how to reproduce it as the first post." />
<meta property="og:description" content="I’ve wanted to learn what it takes to run a website. Finally I’ve put together colinholzman.xyz. This is based on knowledge found all over the internet and through trial and error. It’s fitting to write down some instructions on how to reproduce it as the first post." />
<link rel="canonical" href="https://colinholzman.xyz/meta/2018/11/27/colinholzman-xyz.html" />
<meta property="og:url" content="https://colinholzman.xyz/meta/2018/11/27/colinholzman-xyz.html" />
<meta property="og:site_name" content="Colin Holzman" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-11-27T07:00:00-05:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://colinholzman.xyz/meta/2018/11/27/colinholzman-xyz.html"},"url":"https://colinholzman.xyz/meta/2018/11/27/colinholzman-xyz.html","description":"I’ve wanted to learn what it takes to run a website. Finally I’ve put together colinholzman.xyz. This is based on knowledge found all over the internet and through trial and error. It’s fitting to write down some instructions on how to reproduce it as the first post.","headline":"colinholzman.xyz","dateModified":"2018-11-27T07:00:00-05:00","datePublished":"2018-11-27T07:00:00-05:00","@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://colinholzman.xyz/feed.xml" title="Colin Holzman" /></head>
<body><header class="site-header">

    <div class="wrapper"><a class="site-title" rel="author" href="/">Colin Holzman</a><nav class="site-nav">
                <input type="checkbox" id="nav-trigger" class="nav-trigger" />
                <label for="nav-trigger">
                    <span class="menu-icon">
                        <svg viewBox="0 0 18 15" width="18px" height="15px">
                            <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
                        </svg>
                    </span>
                </label>

                <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/gallery/">Gallery</a></div>
            </nav></div>
</header><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">colinholzman.xyz</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2018-11-27T07:00:00-05:00" itemprop="datePublished">Nov 27, 2018
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>I’ve wanted to learn what it takes to run a website. Finally I’ve put together <a href="https://colinholzman.xyz">colinholzman.xyz</a>. This is based on knowledge found all over the internet and through trial and error. It’s fitting to write down some instructions on how to reproduce it as the first post.</p>

<h3 id="get-a-host-to-serve-your-site">get a host to serve your site</h3>

<p>I used Amazon Lightsail for this. This site is currently running on the cheapest instance I could get (512 MB RAM, 1 vCPU, 20 GB SSD). It’s running Debian 8.</p>

<h3 id="domain-name">domain name</h3>

<p>Buy a domain name from someone like <a href="https://porkbun.com">porkbun.com</a>. Once you have an account you can create a record that will return the static ip that you assign to your server when someone asks for the address of colinholzman.xyz or whatever.</p>

<h3 id="install-nodejs">install node.js</h3>

<p>Do this in whatever way is typical for your os. I think Amazon has images with node already installed.</p>

<h3 id="install-express-forever-and-probably-some-other-things">install express, forever, and probably some other things</h3>

<p><code class="highlighter-rouge">npm install express</code>
<code class="highlighter-rouge">npm install forever</code>
<code class="highlighter-rouge">...</code></p>

<h3 id="create-a-file-serverjs">create a file server.js</h3>

<p>Here is a simple static http server (a pretty trivial use of express I’m sure):</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Dependencies
const fs = require('fs');
const http = require('http');
const express = require('express');

const app = express();

app.use(express.static('/home/admin/site'))

// Starting http server
const httpServer = http.createServer(app);

httpServer.listen(80, () =&gt; {
    //console.log('HTTP Server running on port 80');
});
</code></pre></div></div>

<p>Run it like <code class="highlighter-rouge">sudo forever start server.js</code>. We want to use https though!</p>

<h3 id="lets-encrypt">Let’s Encrypt</h3>

<p>In order to get the nice secure looking green lock when you visit your site you’ll have to obtain some on-the-level ssl certificates. To do this we go to <a href="https://certbot.eff.org/">certbot.eff.org</a> and download the certbot-auto tool. There are pretty solid instructions there. It comes down to running something like <code class="highlighter-rouge">sudo ./path/to/certbot-auto certonly --webroot -d colinholzman.xyz</code>. With the certificate generated make <code class="highlighter-rouge">server.js</code> look like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Dependencies
const fs = require('fs');
const https = require('https');
const express = require('express');

const app = express();

// Certificate
const privateKey = fs.readFileSync('/etc/letsencrypt/live/colinholzman.xyz/privkey.pem', 'utf8');
const certificate = fs.readFileSync('/etc/letsencrypt/live/colinholzman.xyz/cert.pem', 'utf8');
const ca = fs.readFileSync('/etc/letsencrypt/live/colinholzman.xyz/chain.pem', 'utf8');

const credentials = {
    key: privateKey,
    cert: certificate,
    ca: ca
};

app.use(express.static('/home/admin/site'))

// Starting https server
const httpsServer = https.createServer(credentials, app);

httpsServer.listen(443, () =&gt; {
    //console.log('HTTPS Server running on port 443');
});
</code></pre></div></div>

<h3 id="jekyll">Jekyll</h3>

<p><a href="https://jekyllrb.com/">Jekyll</a> is a static website generator. It takes a bunch of markdown content and puts it into place using templates and creates the html and other stuff that gets served from <code class="highlighter-rouge">/home/admin/site</code>.</p>

  </div>

  <div class="just-comments" data-apikey="a50b7eb6-c26f-4728-b3ac-4c68e1db19eb" data-recaptcha="true"></div><script async src="https://just-comments.com/w.js"></script>

  <a class="u-url" href="/meta/2018/11/27/colinholzman-xyz.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Colin Holzman</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Colin Holzman</li><li><a class="u-email" href="mailto:colinholzman@protonmail.com">colinholzman@protonmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/clnhlzmn"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">clnhlzmn</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Mostly an experiment in setting up and running a server/blog. I also occasionally think of things to write about so maybe  I&#39;ll do that here.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
